(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{199:function(e,t,n){e.exports=n(462)},460:function(e,t,n){},462:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),i=n.n(o),l=n(26),c=n(105),s=n(11),u=n(12),p=n(15),m=n(13),h=n(14),d=n(463),f=n(53),g=n(472),b=n(10),v=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,width:0},n.updateWindowDimensions=function(){n.setState({width:window.innerWidth})},n.onCollapse=function(e){n.setState({collapsed:e})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var e=this.state,t=e.collapsed,n=e.width,r=this.props,o=r.selected,i=r.login;return a.createElement(d.a.Sider,{collapsed:t,onCollapse:this.onCollapse,breakpoint:"md",collapsedWidth:"0",style:{heigth:"100vh",zIndex:2},width:n<=768?130:200},a.createElement(g.b,{theme:"light",mode:"inline",defaultSelectedKeys:o.split(" "),style:{height:"100%"}},a.createElement(g.b.Item,{key:"home"},a.createElement(l.b,{to:"/qa-app-mongodb/home"},a.createElement(b.a,{type:"home"}),a.createElement("span",{className:"nav-text"},"Home"))),a.createElement(g.b.Item,{key:"profile"},a.createElement(l.b,{to:"/qa-app-mongodb/profile/".concat(i)},a.createElement(b.a,{type:"profile"}),a.createElement("span",{className:"nav-text"},"Your profile"))),a.createElement(g.b.Item,{key:"settings"},a.createElement(l.b,{to:"/qa-app-mongodb/settings"},a.createElement(b.a,{type:"setting"}),a.createElement("span",{className:"nav-text"},"Settings"))),a.createElement(g.b.Item,{key:"logout"},a.createElement(l.b,{to:"/qa-app-mongodb/logout"},a.createElement(b.a,{type:"logout"}),a.createElement("span",{className:"nav-text"},"Log out")))))}}]),t}(a.Component),y=n(102),E=n(470),w=n(473),O=new c.a,j=function(e){return O.get(e)},x=function(e,t){return O.set(e,t)},S=n(131),k="https://aqueous-retreat-97205.herokuapp.com",C=function(e){return S.get("".concat(k,"/profile/").concat(e))},q=function(){return S.get("".concat(k,"/search"))},D=function(e){return S.get("".concat(k,"/questions/").concat(e))},I=function(){return S.get("".concat(k,"/home"))},A=function(e){return S.get("".concat(k,"/checkAvatar/").concat(e))},T=function(e){return S.post("".concat(k,"/register"),e)},F=function(e){return S.post("".concat(k,"/login"),e,{withCredentials:!0})},P=function(e,t){return S.post("".concat(k,"/answer/").concat(e),{answer:t})},L=function(e,t,n){return S.post("".concat(k,"/ask/").concat(e),{question:t,asked:n})},z=function(e,t){return S.post("".concat(k,"/changeDetails/").concat(t),{details:e})},U=function(e,t){return S.post("".concat(k,"/changePassword"),{user:e,email:t})},_=function(e){return S.post("".concat(k,"/deleteQuestion/").concat(e),{id:e})},R=function(e,t){return S.post("".concat(k,"/updatePicture/").concat(t),e,{headers:{"Content-Type":"multipart/form-data"}})},N=n(30),J=n(31),W=n(71);function H(){var e=Object(N.a)(["",""]);return H=function(){return e},e}function B(){var e=Object(N.a)(["\nfont-family: 'Roboto', sans-serif;\nwidth:100vw;\nheight:100vh;\ndisplay:flex;\nflex-direction: column;\nalign-items: center;\njustify-content: center;\nanimation: 1.3s ",";\n"]);return B=function(){return e},e}function K(){var e=Object(N.a)(["",""]);return K=function(){return e},e}function V(){var e=Object(N.a)(["\nwidth:100%;\nmargin-top:20px;\nborder-top: 1px solid #1890ff;\nanimation: 1.2s ",";\n\n@media screen and (max-width:768px){\n\tmargin-top:80px;\n}\n"]);return V=function(){return e},e}function M(){var e=Object(N.a)(["\nwidth:100%;\npadding:10px;\nmargin-top:2vh;\nmin-height:3vh;\nborder-bottom: 1px solid #1890ff;\noverflow:auto;\n\n@media screen and (max-width:768px){\n\twidth:100%;\n}\n"]);return M=function(){return e},e}function Q(){var e=Object(N.a)(["\nwidth:80%;\nmargin-left:10%;\n"]);return Q=function(){return e},e}function Y(){var e=Object(N.a)(["\nwidth:80%;\nmargin-left:10%;\n"]);return Y=function(){return e},e}function G(){var e=Object(N.a)(["",""]);return G=function(){return e},e}function X(){var e=Object(N.a)(["\nfont-family: 'Roboto', sans-serif;\nwidth:80vw;\nheight:100vh;\nmargin-left:10vw;\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\njustify-content: center;\nanimation: 1.2s ",";\n\n@media screen and (max-width:768px){\n\tpadding-top:2vh;\n\twidth:100vw;\n\tmargin-left: 0;\n}\n"]);return X=function(){return e},e}function Z(){var e=Object(N.a)(["\nwidth:150px;\nheight:150px;\nborder-radius:50%;\n\n@media screen and (max-width:768px){\n\twidth:100px;\n\theight:100px;\n}"]);return Z=function(){return e},e}function $(){var e=Object(N.a)(["",""]);return $=function(){return e},e}function ee(){var e=Object(N.a)(["\nfont-family: 'Roboto', sans-serif;\nwidth:100vw;\nheight: 100vh;\nbackground-color:transparent;\ntext-align:center;\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\njustify-content: center;\nanimation: 1.2s ",";\n"]);return ee=function(){return e},e}function te(){var e=Object(N.a)(["",""]);return te=function(){return e},e}function ne(){var e=Object(N.a)(["\nwidth:100%;\nheigth:100%;\nborder-radius:10px;\ntext-align:center;\npadding-top:5vh;\npaddint-bottom:5vh;\nanimation: 1.5s ",";\n"]);return ne=function(){return e},e}var ae=J.a.div(ne(),Object(J.b)(te(),W.fadeInRight)),re=J.a.div(ee(),Object(J.b)($(),W.zoomIn)),oe=J.a.img(Z()),ie=J.a.div(X(),Object(J.b)(G(),W.fadeIn)),le=J.a.div(Y()),ce=J.a.div(Q()),se=J.a.div(M()),ue=J.a.div(V(),Object(J.b)(K(),W.fadeIn)),pe=J.a.div(B(),Object(J.b)(H(),W.slideInDown)),me=n(469),he=n(466),de=n(195),fe=n(108),ge=me.a.Title,be=he.a.Item,ve=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.form,r=t.nextStep,o=t.saveInput;a.validateFields(function(t,n){t||(o({email:n.email}),r(e))})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form;return a.createElement(ae,null,a.createElement(he.a,{onSubmit:this.handleSubmit},a.createElement(ge,null,"Sweet! You decided to join!"),a.createElement(ge,{level:3},"Please enter your email."),a.createElement(be,{label:"E-mail",hasFeedback:!0},e.getFieldDecorator("email",{rules:[{required:!0,message:"Please enter your E-mail!"},{type:"email",message:"The input is not valid E-mail!"}]})(a.createElement(de.a,{prefix:a.createElement(b.a,{type:"mail"}),style:{width:"50%"},placeholder:"Email",allowClear:!0}))),a.createElement(fe.a,{type:"primary",htmlType:"submit"},"Next")))}}]),t}(a.Component),ye=he.a.create()(ve),Ee=me.a.Title,we=he.a.Item,Oe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).checkPassword=function(e,t,a){var r=n.props.form,o=n.state.confirmDirty;t&&o&&t.length>=8&&r.validateFields(["confirm"],{force:!0}),a()},n.checkConfirm=function(e,t,a){var r=n.props.form;t&&t!==r.getFieldValue("password")&&a("Two passwords that you enter is inconsistent!"),a()},n.handleConfirmBlur=function(e){var t=e.target.value.value,a=n.state.confirmDirty;n.setState({confirmDirty:a||!!t})},n.handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.form,r=t.nextStep,o=t.saveInput;a.validateFields(function(t,n){t||(o({username:n.username,password:n.password}),r(e))})},n.state={confirmDirty:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,n=e.prevStep;return a.createElement(ae,null,a.createElement(he.a,{onSubmit:this.handleSubmit},a.createElement(Ee,null,"Just a little bit more!"),a.createElement(Ee,{level:3},"Please enter your username and password."),a.createElement(we,{label:"Username",hasFeedback:!0},t.getFieldDecorator("username",{rules:[{required:!0,message:"Please enter your username!"}]})(a.createElement(de.a,{prefix:a.createElement(b.a,{type:"user"}),style:{width:"50%"},placeholder:"Username",allowClear:!0}))),a.createElement(we,{label:"Password",hasFeedback:!0},t.getFieldDecorator("password",{rules:[{required:!0,message:"Please enter your password! (at least 8 characters)",min:8},{validator:this.checkPassword}]})(a.createElement(de.a,{prefix:a.createElement(b.a,{type:"lock"}),type:"password",style:{width:"50%"},placeholder:"Password",allowClear:!0}))),a.createElement(we,{label:"Confirm Password",hasFeedback:!0},t.getFieldDecorator("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.checkConfirm}]})(a.createElement(de.a,{prefix:a.createElement(b.a,{type:"lock"}),type:"password",style:{width:"50%"},placeholder:"Confirm password",onBlur:this.handleConfirmBlur,allowClear:!0}))),a.createElement(fe.a,{onClick:n},"Previous"),a.createElement(fe.a,{type:"primary",htmlType:"submit"},"Next")))}}]),t}(a.Component),je=he.a.create()(Oe),xe=n(467),Se=n(131),ke=n.n(Se),Ce=me.a.Title,qe=me.a.Paragraph,De=he.a.Item,Ie=de.a.TextArea,Ae=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleUpload=function(e){var t=e.file,a=e.onSuccess,r=n.props.username,o=new FormData;o.append("username",r),o.append("file",t),ke.a.post("".concat(k,"/add-file"),o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(){a("ok")}).catch(function(e){console.error(e)})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onSubmit,n=e.prevStep;return a.createElement(ae,null,a.createElement(he.a,{onSubmit:t},a.createElement(Ce,null,"Last step!"),a.createElement(Ce,{level:3},"Add something from yourself!"),a.createElement(qe,null,"(optional, can be changed later)"),a.createElement(De,{label:"Description",hasFeedback:!0},a.createElement(Ie,{prefix:a.createElement(b.a,{type:"idcard"}),style:{width:"50%"},placeholder:"Description",autosize:!0})),a.createElement(De,{label:"Add profile picture"},a.createElement("div",{className:"dropbox",style:{width:"50%",margin:"auto"}},a.createElement(xe.a,{customRequest:this.handleUpload},a.createElement(fe.a,null,a.createElement(b.a,{type:"upload"}),"Select File")))),a.createElement(fe.a,{onClick:n},"Previous"),a.createElement(fe.a,{type:"primary",htmlType:"submit"},"Done")))}}]),t}(a.Component),Te=he.a.create()(Ae),Fe=E.a.Step,Pe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={step:0,username:"",visible:!1,valid:!0},n.saveInput=function(e){n.setState(e)},n.nextStep=function(e){e.preventDefault();var t=n.state.step;t<2&&n.setState({step:t+1})},n.prevStep=function(e){e.preventDefault();var t=n.state.step;t>0&&n.setState({step:t-1})},n.handleSubmit=function(e){e.preventDefault();var t=Object(y.a)(n).state;T(t).then(function(e){e.data?n.setState({visible:!0}):n.setState({valid:!1})}).catch(function(e){return e})},n.handleClose=function(){n.props.history.push("/qa-app-mongodb/login")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.visible,r=t.valid,o=t.step,i=t.username,l=this.props.history,c=[{title:"Email",content:a.createElement(ye,{saveInput:this.saveInput,nextStep:this.nextStep})},{title:"Username and Password",content:a.createElement(je,{saveInput:this.saveInput,prevStep:this.prevStep,nextStep:this.nextStep})},{title:"Description",content:a.createElement(Te,{saveInput:this.saveInput,prevStep:this.prevStep,username:i,onSubmit:function(t){return e.handleSubmit(t)}})}];return j("login")?a.createElement(function(){return l.push("/qa-app-mongodb/home",{refresh:!0}),null},null):a.createElement(function(){return a.createElement(ie,null,n?a.createElement(w.a,{message:"User created succesfully!",type:"success",closable:!0,afterClose:e.handleClose,style:{zIndex:3e3,position:"absolute",top:"40vh",width:"40%",textAlign:"center",left:"30vw"}}):null,r?null:a.createElement(w.a,{message:"User already exists!",type:"error",closable:!0,afterClose:l.push("/qa-app-mongodb/register"),style:{zIndex:3e3,position:"absolute",top:"40vh",width:"40%",textAlign:"center",left:"30vw"}}),a.createElement(E.a,{current:o},c.map(function(e){return a.createElement(Fe,{key:e.title,title:e.title})})),a.createElement("div",{className:"steps-content"},c[o].content))},null)}}]),t}(a.Component),Le=n(471),ze=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.form,r=t.history;a.validateFields(function(e,t){e||F(t).then(function(e){"Logged in"===e.data?n.setState({status:"success"},function(){x("login",t.username),r.push("/qa-app-mongodb/home",{refresh:!0})}):n.setState({status:"error"})}).catch(function(e){return e})})},n.state={logged:j("login"),status:""},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.logged,n=e.status,r=this.props,o=r.form,i=r.history;return t?(i.push("/",{refresh:!0}),null):a.createElement(re,null,a.createElement(he.a,{onSubmit:this.handleSubmit},a.createElement(me.a.Title,{type:2},"Welcome back!"),a.createElement(he.a.Item,{validateStatus:n},o.getFieldDecorator("username",{rules:[{required:!0,message:"Please enter your username!"}]})(a.createElement(de.a,{prefix:a.createElement(b.a,{type:"user"}),placeholder:"Username",allowClear:!0}))),a.createElement(he.a.Item,{validateStatus:n},o.getFieldDecorator("password",{rules:[{required:!0,message:"Please enter your password!"}]})(a.createElement(de.a,{prefix:a.createElement(b.a,{type:"lock"}),type:"password",placeholder:"Password",allowClear:!0}))),a.createElement(he.a.Item,null,o.getFieldDecorator("remember",{valuePropName:"checked",initialValue:!0})(a.createElement(Le.a,null,"Remember me")),a.createElement("a",{className:"login-form-forgot",href:"/forgot"},"Forgot password"),a.createElement("br",null),a.createElement(fe.a,{type:"primary",htmlType:"submit",style:{width:"100%"}},"Log in"),"Or",a.createElement("a",{href:"/register"}," register now!"))))}}]),t}(a.Component),Ue=Object(f.f)(he.a.create({name:"normal_login"})(ze)),_e=n(61),Re=n.n(_e),Ne=n(107),Je=n(468),We=n(464),He=n(465),Be=d.a.Content,Ke=d.a.Footer,Ve=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).latestQuestions=Object(Ne.a)(Re.a.mark(function e(){return Re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I().then(function(e){n.setState({questions:e.data.questions,users:e.data.users})});case 2:case"end":return e.stop()}},e)})),n.loadAllUsers=Object(Ne.a)(Re.a.mark(function e(){return Re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q().then(function(){var e=Object(Ne.a)(Re.a.mark(function e(t){var a,r;return Re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=new Promise(function(e){a=t.data.usernames.map(function(e){return e.username}),e("ok")}),e.next=4,r.then(function(e){e&&n.setState({allUsers:a})});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e)})),n.onSelect=function(e){n.props.history.push("/qa-app-mongodb/profile/".concat(e))},n.onChange=function(e){n.setState({searchPhrease:e})},n.handleSearch=function(){var e=n.props.history,t=n.state.searchPhrease;e.push("/qa-app-mongodb/search/".concat(t))},n.state={questions:[],users:[],allUsers:[],searchPhrease:""};var a=n.props,r=a.refresh,o=a.history;return o.location.state&&(r(),o.location.state=void 0),n.latestQuestions(),n.loadAllUsers(),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.questions,n=e.users,r=e.allUsers;return a.createElement(d.a,{style:{minHeight:"100vh",width:"100%",paddingLeft:"10%",paddingRight:"10%",overflow:"auto"}},a.createElement(Be,null,a.createElement(me.a.Title,{level:3,style:{marginTop:"10%",textAlign:"center"}},"Search for anyone!"),a.createElement(Je.a,{className:"global-search",size:"large",style:{width:"60%",marginLeft:"20%"},dataSource:r,onSelect:this.onSelect,onSearch:this.onChange,placeholder:"Search for user...",filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())}},a.createElement(de.a,{suffix:a.createElement(fe.a,{className:"search-btn",style:{marginRight:-12},size:"large",type:"primary",onClick:this.handleSearch},a.createElement(b.a,{type:"search"}))})),a.createElement(me.a.Title,{level:3,style:{marginTop:"10vh",textAlign:"center"}},"Some random QA's"),a.createElement(ue,null,t.map(function(e){if(e){var t="";return n.forEach(function(n){n._id===e.user_id&&(t=n.username)}),a.createElement(se,{key:e._id},a.createElement(We.a,{avatar:a.createElement("a",{href:"/qa-app-mongodb/profile/".concat(e.asked_by)},a.createElement(He.a,{icon:"user",size:"large",src:"".concat(k,"/public/").concat(e.asked_by)})),author:a.createElement("a",{href:"/qa-app-mongodb/profile/".concat(e.asked_by)},e.asked_by),content:e.content,key:e._id},a.createElement(We.a,{avatar:a.createElement("a",{href:"/qa-app-mongodb/profile/".concat(t)},a.createElement(He.a,{icon:"user",size:"large",src:"".concat(k,"/public/").concat(t)})),author:a.createElement("a",{href:"/qa-app-mongodb/profile/".concat(t)},t),content:e.answer})))}return null})),a.createElement(Ke,{style:{width:"100%",textAlign:"center"}},"Created by Kacper Jagie\u0142a")))}}]),t}(a.Component),Me=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.refresh,n=e.history;return n.location.state&&(t(),n.location.state=void 0),a.createElement(pe,null,a.createElement(me.a.Title,{level:2},"Let's know each other!"),a.createElement(me.a.Paragraph,{style:{fontFamily:"Roboto",fontWeight:"bold"}},"Enter the best Question and Answers site"),a.createElement(l.b,{to:"/qa-app-mongodb/register"},a.createElement(fe.a,{type:"primary",size:"large",shape:"round"},"Join now")),a.createElement("h4",null,"or",a.createElement(l.b,{to:"/qa-app-mongodb/login"}," log in")))}}]),t}(a.Component),Qe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={login:j("login")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,n=e.refresh;"REPLACE"===t.action&&(t.action="PUT",n())}},{key:"render",value:function(){var e=this.state.login,t=this.props,n=t.refresh,r=t.history;return e?a.createElement(function(){return a.createElement(Ve,{refresh:n,history:r})},null):a.createElement(function(){return a.createElement(Me,{refresh:n,history:r})},null)}}]),t}(a.Component),Ye=Object(f.f)(Qe),Ge=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){n.setState({answer:e.target.value})},n.handleAnswer=function(e){e.preventDefault();var t=n.props,a=t.question,r=t.refresh,o=n.state.answer;P(a._id,o),r()},n.handleDelete=function(){var e=n.props,t=e.question,a=e.refresh;_(t._id),a()};var a=n.props.question;return n.state={answer:a.answer},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.question,r=t.username,o=this.state.answer;return a.createElement(se,{style:{position:"relative"}},a.createElement(he.a,{onSubmit:this.handleAnswer},a.createElement(We.a,{avatar:a.createElement("a",{href:"/profile/".concat(n.asked_by)},a.createElement(He.a,{icon:"user",size:"large",src:"".concat(k,"/public/").concat(n.asked_by)})),author:a.createElement("a",{href:"/profile/".concat(n.asked_by)},n.asked_by),content:n.content},n.answer?a.createElement(We.a,{avatar:a.createElement("a",{href:"/profile/".concat(r)},a.createElement(He.a,{icon:"user",size:"large",src:"".concat(k,"/public/").concat(r)})),author:a.createElement("a",{href:"/profile/".concat(r)},r),content:a.createElement(me.a.Paragraph,null,n.answer)}):a.createElement("div",null,r===j("login")?a.createElement(de.a,{onChange:function(t){return e.onChange(t)},placeholder:"Answer"}):null),o&&!n.answer?a.createElement(fe.a,{type:"primary",htmlType:"submit",style:{float:"right"}},"Answer!"):null,r===j("login")?a.createElement(fe.a,{style:{position:"absolute",top:"5px",right:"10px",cursor:"pointer",zIndex:1},type:"primary",onClick:function(){return e.handleDelete()}},"Delete"):null)))}}]),t}(a.Component),Xe=d.a.Content,Ze=d.a.Footer,$e=me.a.Title,et=me.a.Paragraph,tt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={questions:[]},n.refresh=function(){var e=n.props.match;C(e.params.username).then(function(e){n.setState({username:e.data.username,description:e.data.description}),D(e.data._id).then(function(e){n.setState({questions:e.data})}),A(e.data.username).then(function(e){n.setState({avatar:e.data})})})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"render",value:function(){var e=this,t=this.props,n=t.history,r=t.match,o=this.state,i=o.avatar,l=o.username,c=o.description,s=o.questions;return j("login")?a.createElement(function(){return a.createElement(d.a,{style:{minHeight:"100vh",width:"100%",paddingLeft:"10%",paddingRight:"10%",overflow:"auto"}},a.createElement(Xe,{style:{width:"100%",height:"95vh",paddingTop:"5vh"}},a.createElement("div",{style:{marginBottom:"100px"}},a.createElement("a",{href:"/qa-app-mongodb/profile/".concat(l),style:{float:"left",marginRight:"10px"}},i?a.createElement(oe,{src:"".concat(k,"/public/").concat(l),alt:"100x100",style:{zIndex:2}}):a.createElement(He.a,{icon:"user",size:80,style:{zIndex:2}})),a.createElement($e,{level:2},l),"undefined"!==c?a.createElement(et,{strong:!0},c):null),j("login")===r.params.username?null:a.createElement(fe.a,{href:"/qa-app-mongodb/ask/".concat(l),type:"primary"},"Ask this user"),a.createElement(ue,null,s.reverse().map(function(t){return a.createElement(Ge,{question:t,refresh:e.refresh,username:l,key:t._id})})),a.createElement(Ze,{style:{width:"100%",textAlign:"center"}},"Created by Kacper Jagie\u0142a")))},null):a.createElement(function(){return n.push("/qa-app-mongodb/home"),null},null)}}]),t}(a.Component),nt=n(196),at=d.a.Content,rt=d.a.Footer,ot=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={logged:j("login"),fileList:[],uploading:!1,previousDescription:"",visible:!1},n.handleUpload=function(){var e=n.state,t=e.fileList,a=e.logged,r=new FormData;r.append("username",a),r.append("file",t[t.length-1]),n.setState({uploading:!0}),R(r,a).then(function(e){e.data?n.setState({fileList:[],uploading:!1}):n.setState({uploading:!1})})},n.onClose=function(){var e=n.props.history,t=n.state.logged;e.push("/qa-app-mongodb/profile/".concat(t))},n.handleSubmit=function(e){e.preventDefault();var t=n.props.form,a=n.state.logged;t.validateFields(function(e,t){t&&z(t,a).then(function(e){n.setState({visible:e})})})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.logged;C(t).then(function(t){"undefined"!==t.data.description&&e.setState({previousDescription:t.data.description})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.logged,r=t.uploading,o=t.fileList,i=t.previousDescription,l=t.visible,c=this.props,s=c.form,u=c.history,p={onRemove:function(t){e.setState(function(e){var n=e.fileList.indexOf(t),a=e.fileList.slice();return a.splice(n,1),{fileList:a}})},beforeUpload:function(t){return e.setState(function(e){return{fileList:[].concat(Object(nt.a)(e.fileList),[t])}}),!1},fileList:o};return n?a.createElement(d.a,{style:{minHeight:"100vh",width:"100%",paddingLeft:"10%",paddingRight:"10%",overflow:"auto"}},a.createElement(at,null,a.createElement(me.a.Title,{level:2,style:{paddingTop:"5vh",textAlign:"center",marginBottom:"12px"}},"Settings"," ",a.createElement(b.a,{type:"setting"})),a.createElement(w.a,{message:"Description saved!",type:"success",onClose:this.onClose,style:l?{visibility:"visible",position:"relative",top:"20%",left:"20%",zIndex:2,width:"60%"}:{visibility:"hidden",position:"relative",top:"20%",left:"20%",zIndex:2,width:"60%"},showIcon:!0,closable:!0}),a.createElement(he.a,{onSubmit:this.handleSubmit},a.createElement(me.a.Paragraph,null,"Change your description:"),a.createElement(he.a.Item,null,s.getFieldDecorator("description",{initialValue:i})(a.createElement(de.a.TextArea,{placeholder:"Update description"}))),a.createElement(me.a.Paragraph,null,"Change your profile picture:"),a.createElement(he.a.Item,null,a.createElement(xe.a,p,a.createElement(fe.a,null,a.createElement(b.a,{type:"upload"}),"Choose image")),a.createElement(fe.a,{type:"primary",onClick:this.handleUpload,disabled:0===o.length,loading:r,style:{marginTop:16}},r?"Uploading":"Change profile picture")),a.createElement(fe.a,{style:{width:"60%",marginLeft:"20%",marginTop:"5%"},type:"primary",htmlType:"submit"},"Save description")),a.createElement(rt,{style:{width:"100%",textAlign:"center"}},"Created by Kacper Jagie\u0142a"))):(u.push("/qa-app-mongodb/home"),null)}}]),t}(a.Component),it=Object(f.f)(he.a.create({name:"settings"})(ot)),lt=function(e){var t,n=e.history;return t="login",O.remove(t,{path:"/qa-app-mongodb/"}),n.push("/qa-app-mongodb/",{refresh:!0}),null},ct=d.a.Content,st=d.a.Footer,ut=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={logged:j("login")},n.handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.form,r=t.history,o=t.match,i=n.state.logged;a.validateFields(function(e,t){e||L(o.params.username,t.questionContent,i).then(function(e){e.data&&r.push("/qa-app-mongodb/profile/".concat(o.params.username))}).catch(function(e){return e})})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,n=e.history,r=n.location.pathname,o=this.state.logged,i=r.substring(r.lastIndexOf("/qa-app-mongodb/")+1,r.length);return o?a.createElement(d.a,null,a.createElement(ct,null,a.createElement(re,{style:{width:"80%",height:"90%",marginLeft:"10%"}},a.createElement(me.a.Title,{level:2,style:{textAlign:"center"}},"You can ask",a.createElement("a",{href:"/qa-app-mongodb/profile/".concat(i)}," ".concat(i," ")),"anything!"),a.createElement(he.a,{onSubmit:this.handleSubmit,style:{width:"100%"}},a.createElement(he.a.Item,null,t.getFieldDecorator("questionContent")(a.createElement(de.a,{suffix:a.createElement(fe.a,{type:"primary",htmlType:"submit",icon:"question",style:{marginRight:-12}}),placeholder:"Your question here"}))))),a.createElement(st,{style:{width:"100%",textAlign:"center"}},"Created by Kacper Jagie\u0142a"))):(n.push("/qa-app-mongodb/home"),null)}}]),t}(a.Component),pt=Object(f.f)(he.a.create({name:"ask_form"})(ut)),mt=function(e){var t=e.user;return a.createElement(le,null,a.createElement(He.a,{size:"large",src:"".concat(k,"/public/").concat(t.username)}),a.createElement("a",{href:"/qa-app-mongodb/profile/".concat(t.username)},t.username))},ht=d.a.Content,dt=d.a.Footer,ft=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props.match.params.search;(e=n,S.get("".concat(k,"/search/").concat(e))).then(function(e){t.setState({users:e.data})})}},{key:"render",value:function(){var e=this.state.users,t=this.props,n=t.match,r=t.history,o=n.params.search,i=e.map(function(e){return a.createElement(mt,{user:e,key:e._id})});return j("login")?a.createElement(function(){return a.createElement(d.a,null,a.createElement(ht,null,a.createElement(ce,null,a.createElement(me.a.Title,{level:4,style:{marginTop:"3vh",textAlign:"center"}},"Results for '",a.createElement("b",{style:{color:"#1890ff"}},o),"'"),a.createElement("div",{style:{marginTop:"3vh"}},i)),a.createElement(dt,{style:{width:"100%",textAlign:"center"}},"Created by Kacper Jagie\u0142a")))},null):a.createElement(function(){return r.push("/qa-app-mongodb/",{refresh:!0}),null},null)}}]),t}(a.Component),gt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={logged:j("login"),alertVisible:!1},n.handleSubmit=function(e){var t=n.props.form;e.preventDefault(),t.validateFields(function(e,t){U(t.username,t.email).then(function(e){e&&n.setState({alertVisible:!0})})})},n.onClose=function(){n.props.history.push("/qa-app-mongodb/login")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.logged,n=e.alertVisible,r=this.props,o=r.form,i=r.history;return t?(i.push("/qa-app-mongodb/"),null):a.createElement(re,null,a.createElement(me.a.Title,{level:2},"Forgot your password?"),a.createElement(w.a,{message:"Email send!",description:"If user with such username and email exist we send you an email.",type:"info",closable:!0,onClose:this.onClose,style:n?{visibility:"visible",position:"absolute",top:"40vh",width:"60%",maringLeft:"20%",zIndex:3}:{visibility:"hidden",position:"absolute",top:"40vh",width:"60%",maringLeft:"20%",zIndex:3}}),a.createElement(me.a.Title,{level:4},"Generate a new one!"),a.createElement(he.a,{onSubmit:this.handleSubmit},a.createElement(he.a.Item,null,o.getFieldDecorator("email",{rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"The input is not valid E-mail!"}]})(a.createElement(de.a,{prefix:a.createElement(b.a,{type:"mail"}),placeholder:"Email",allowClear:!0}))),a.createElement(he.a.Item,null,o.getFieldDecorator("username",{rules:[{required:!0,message:"Please enter your username"}]})(a.createElement(de.a,{prefix:a.createElement(b.a,{type:"user"}),placeholder:"Username",allowClear:!0}))),a.createElement(fe.a,{type:"primary",htmlType:"submit"},"Generate new password")))}}]),t}(a.Component),bt=Object(f.f)(he.a.create({name:"forgot"})(gt)),vt=function(e){var t=e.refresh;return a.createElement(f.c,null,a.createElement(f.a,{exact:!0,path:"/qa-app-mongodb/ask/:username",component:pt}),a.createElement(f.a,{exact:!0,path:"/qa-app-mongodb/forgot",component:bt}),a.createElement(f.a,{exact:!0,path:"/qa-app-mongodb/settings",component:it}),a.createElement(f.a,{exact:!0,path:"/qa-app-mongodb/profile/:username",component:Object(f.f)(tt)}),a.createElement(f.a,{exact:!0,path:"/qa-app-mongodb/register",component:Object(f.f)(Pe)}),a.createElement(f.a,{exact:!0,path:"/qa-app-mongodb/login",component:Ue}),a.createElement(f.a,{exact:!0,path:"/qa-app-mongodb/logout",component:Object(f.f)(lt)}),a.createElement(f.a,{exact:!0,path:"/qa-app-mongodb/search/:search",component:Object(f.f)(ft)}),a.createElement(f.a,{path:"/qa-app-mongodb/",render:function(){return a.createElement(Ye,{refresh:t})}}))},yt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).refresh=function(){n.setState({login:j("login")})},n.state={login:j("login")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.history,n=this.state.login,r=t.location.pathname,o="";o=r.indexOf("/qa-app-mongodb/")===r.lastIndexOf("/")?r.replace("/qa-app-mongodb/",""):r.substring(r.indexOf("/qa-app-mongodb/")+1,r.lastIndexOf("/qa-app-mongodb/"));return n?a.createElement(function(){return a.createElement(d.a,{style:{minHeight:"100vh",maxHeight:"100vh"}},a.createElement(v,{selected:o,login:n}),a.createElement(vt,{refresh:e.refresh}))},null):a.createElement(function(){return a.createElement(d.a,{style:{minHeight:"100vh",maxHeight:"100vh"}},a.createElement(vt,{refresh:e.refresh}))},null)}}]),t}(a.Component),Et=Object(f.f)(yt);n(460),n(461);i.a.render(r.a.createElement(c.b,null,r.a.createElement(l.a,null,r.a.createElement(Et,null))),document.getElementById("root"))}},[[199,1,2]]]);
//# sourceMappingURL=main.606175eb.chunk.js.map