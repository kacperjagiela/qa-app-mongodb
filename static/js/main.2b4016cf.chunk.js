(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t,n){e.exports=n(391)},389:function(e,t,n){},391:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(11),c=n(104),s=n(15),u=n(16),m=n(19),p=n(17),h=n(18),d=n(392),f=n(53),g=n(24),b=n(403),v=n(404),y=n(10),E=n(25),w=new c.a,O=function(e){return w.get(e)},j=function(e,t){return w.set(e,t,{path:"/qa-app-mongodb/"})};function x(){var e=Object(g.a)(["\n\theight:5vh;\n\tdisplay: inline-block;\n\tcursor: pointer;\n\tz-index: 3;\n\tposition: absolute;\n\tpadding:4px;\n\tpadding-top:6px;\n\tbadding-bottom:1px;\n\tleft:14px;\n"]);return x=function(){return e},e}function k(){var e=Object(g.a)(["\n\twidth: 40px;\n\theight: 5px;\n\tbackground-color: black;\n\tmargin: 6px 0;\n\ttransition: 0.4s;\n"]);return k=function(){return e},e}var S=E.a.div(k()),C=E.a.div(x()),D=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={visible:!1,width:0},n.updateWindowDimensions=function(){n.setState({width:window.innerWidth})},n.showDrawer=function(){n.setState({visible:!0})},n.onClose=function(){n.setState({visible:!1})},n.Mobile=function(){return a.createElement(b.a,{closable:!0,title:"Menu",placement:"left",onClose:n.onClose,visible:n.state.visible,width:n.state.width>767?300:"100%",height:"100%"},a.createElement(v.b,{theme:"light",mode:"inline",defaultSelectedKeys:n.props.selected.split(" "),style:{height:"100%"}},a.createElement(v.b.Item,{key:"home"},a.createElement(l.b,{to:"/home"},a.createElement(y.a,{type:"home"}),a.createElement("span",{className:"nav-text"},"Home"))),a.createElement(v.b.Item,{key:"profile"},a.createElement(l.b,{to:"/profile/".concat(O("login"))},a.createElement(y.a,{type:"profile"}),a.createElement("span",{className:"nav-text"},"Your profile"))),a.createElement(v.b.Item,{key:"settings"},a.createElement(l.b,{to:"/settings"},a.createElement(y.a,{type:"setting"}),a.createElement("span",{className:"nav-text"},"Settings"))),a.createElement(v.b.Item,{key:"logout"},a.createElement(l.b,{to:"/logout"},a.createElement(y.a,{type:"logout"}),a.createElement("span",{className:"nav-text"},"Log out")))))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var e=this,t=this.state.visible;return a.createElement(a.Fragment,null,a.createElement(function(){return a.createElement(C,{onClick:e.showDrawer,onKeyPress:e.showDrawer,role:"button",tabIndex:"0",style:{background:"rgb(0,0,0,0.0)",opacity:t?0:1}},a.createElement(S,null),a.createElement(S,null),a.createElement(S,null))},null),this.Mobile())}}]),t}(a.Component),I=n(97),T=n(401),A=n(402),F=n(229),P="https://aqueous-retreat-97205.herokuapp.com",q=function(e){return F.get("".concat(P,"/profile/").concat(e))},z=function(){return F.get("".concat(P,"/search"))},_=function(e){return F.get("".concat(P,"/questions/").concat(e))},L=function(){return F.get("".concat(P,"/home"))},U=function(e){return F.get("".concat(P,"/checkAvatar/").concat(e))},N=function(e){return F.post("".concat(P,"/register"),e)},R=function(e){return F.post("".concat(P,"/login"),e,{withCredentials:!0})},M=function(e,t){return F.post("".concat(P,"/answer/").concat(e),{answer:t})},J=function(e,t,n){return F.post("".concat(P,"/ask/").concat(e),{question:t,asked:n})},W=function(e,t){return F.post("".concat(P,"/changeDetails/").concat(t),{details:e})},B=function(e,t){return F.post("".concat(P,"/changePassword"),{user:e,email:t})},K=function(e){return F.post("".concat(P,"/deleteQuestion/").concat(e),{id:e})},V=n(59);function H(){var e=Object(g.a)(["",""]);return H=function(){return e},e}function Q(){var e=Object(g.a)(["\n\tfont-family: 'Roboto',\n\t\tsans-serif;\n\twidth: 100vw;\n\theight: 100vh;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tanimation: 1.3s\n\t\t",";\n"]);return Q=function(){return e},e}function Y(){var e=Object(g.a)(["",""]);return Y=function(){return e},e}function G(){var e=Object(g.a)(["\n\twidth: 100%;\n\tmargin-top: 20px;\n\tborder-top: 1px\n\t\tsolid\n\t\t#1890ff;\n\tanimation: 1.2s\n\t\t",";\n\n\t@media screen and (max-width: 768px) {\n\t\tmargin-top: 80px;\n\t}\n"]);return G=function(){return e},e}function X(){var e=Object(g.a)(["\n\twidth: 100%;\n\tpadding: 10px;\n\tmargin-top: 2vh;\n\tmin-height: 3vh;\n\tborder-bottom: 1px\n\t\tsolid\n\t\t#1890ff;\n\toverflow: auto;\n\n\t@media screen and (max-width: 768px) {\n\t\twidth: 100%;\n\t}\n"]);return X=function(){return e},e}function Z(){var e=Object(g.a)(["\n\twidth: 80%;\n\tmargin-left: 10%;\n"]);return Z=function(){return e},e}function $(){var e=Object(g.a)(["\n\twidth: 80%;\n\tmargin-left: 10%;\n"]);return $=function(){return e},e}function ee(){var e=Object(g.a)(["\n\twidth: 30px;\n\theight: 45px;\n\tposition: absolute;\n\ttop: 50px;\n\tleft: 0px;\n\tz-index: 3001;\n\n\t@media screen and (max-width: 767) {\n\t\tright: 0px;\n\t}\n"]);return ee=function(){return e},e}function te(){var e=Object(g.a)(["",""]);return te=function(){return e},e}function ne(){var e=Object(g.a)(["\n\tfont-family: 'Roboto',\n\t\tsans-serif;\n\twidth: 100%;\n\theight: 100vh;\n\tpadding-left: 20%;\n\tpadding-right: 20%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tanimation: 1.2s\n\t\t",";\n\n\t@media screen and (max-width: 480px) {\n\t\tpadding-top: 5vh;\n\t\tdisplay: block;\n\t\tpadding-left: 10%;\n\t\tpadding-right: 10%;\n\t\tmargin-left: 0;\n\t}\n"]);return ne=function(){return e},e}function ae(){var e=Object(g.a)(["\n\twidth: 150px;\n\theight: 150px;\n\tborder-radius: 50%;\n\n\t@media screen and (max-width: 768px) {\n\t\twidth: 100px;\n\t\theight: 100px;\n\t}\n"]);return ae=function(){return e},e}function re(){var e=Object(g.a)(["",""]);return re=function(){return e},e}function oe(){var e=Object(g.a)(["\n\tfont-family: 'Roboto',\n\t\tsans-serif;\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground-color: transparent;\n\ttext-align: center;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tanimation: 1.2s\n\t\t",";\n"]);return oe=function(){return e},e}function ie(){var e=Object(g.a)(["",""]);return ie=function(){return e},e}function le(){var e=Object(g.a)(["\n\tmin-height: 100vh;\n\twidth: 100%;\n\tpadding-left: 20%;\n\tpadding-right: 20%;\n\toverflow: auto;\n\tanimation: 0.5s\n\t\t",";\n"]);return le=function(){return e},e}function ce(){var e=Object(g.a)(["",""]);return ce=function(){return e},e}function se(){var e=Object(g.a)(["\n\twidth: 100%;\n\theigth: 100%;\n\tborder-radius: 10px;\n\ttext-align: center;\n\tpadding-top: 5vh;\n\tpaddint-bottom: 5vh;\n\tanimation: 1.5s\n\t\t",";\n"]);return se=function(){return e},e}var ue=E.a.div(se(),Object(E.b)(ce(),V.fadeInRight)),me=Object(E.a)(d.a)(le(),Object(E.b)(ie(),V.fadeIn)),pe=E.a.div(oe(),Object(E.b)(re(),V.zoomIn)),he=E.a.img(ae()),de=E.a.div(ne(),Object(E.b)(te(),V.fadeIn)),fe=(E.a.div(ee()),E.a.div($())),ge=E.a.div(Z()),be=E.a.div(X()),ve=E.a.div(G(),Object(E.b)(Y(),V.fadeIn)),ye=E.a.div(Q(),Object(E.b)(H(),V.slideInDown)),Ee=n(398),we=n(396),Oe=n(166),je=n(47),xe=Ee.a.Title,ke=we.a.Item,Se=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.form,r=t.nextStep,o=t.saveInput;a.validateFields(function(t,n){t||(o({email:n.email}),r(e))})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.form;return a.createElement(ue,null,a.createElement(we.a,{onSubmit:this.handleSubmit},a.createElement(xe,null,"Sweet! You decided to join!"),a.createElement(xe,{level:3},"Please enter your email."),a.createElement(ke,{label:"E-mail",hasFeedback:!0},e.getFieldDecorator("email",{rules:[{required:!0,message:"Please enter your E-mail!"},{type:"email",message:"The input is not valid E-mail!"}]})(a.createElement(Oe.a,{prefix:a.createElement(y.a,{type:"mail"}),style:{width:"50%"},placeholder:"Email",allowClear:!0}))),a.createElement(je.a,{type:"primary",htmlType:"submit"},"Next")))}}]),t}(a.Component),Ce=we.a.create()(Se),De=Ee.a.Title,Ie=we.a.Item,Te=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).checkPassword=function(e,t,a){var r=n.props.form,o=n.state.confirmDirty;t&&o&&t.length>=8&&r.validateFields(["confirm"],{force:!0}),a()},n.checkConfirm=function(e,t,a){var r=n.props.form;t&&t!==r.getFieldValue("password")&&a("Two passwords that you enter is inconsistent!"),a()},n.handleConfirmBlur=function(e){var t=e.target.value.value,a=n.state.confirmDirty;n.setState({confirmDirty:a||!!t})},n.handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.form,r=t.nextStep,o=t.saveInput;a.validateFields(function(t,n){t||(o({username:n.username,password:n.password}),r(e))})},n.state={confirmDirty:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,n=e.prevStep;return a.createElement(ue,null,a.createElement(we.a,{onSubmit:this.handleSubmit},a.createElement(De,null,"Just a little bit more!"),a.createElement(De,{level:3},"Please enter your username and password."),a.createElement(Ie,{label:"Username",hasFeedback:!0},t.getFieldDecorator("username",{rules:[{required:!0,message:"Please enter your username!"}]})(a.createElement(Oe.a,{prefix:a.createElement(y.a,{type:"user"}),style:{width:"50%"},placeholder:"Username",allowClear:!0}))),a.createElement(Ie,{label:"Password",hasFeedback:!0},t.getFieldDecorator("password",{rules:[{required:!0,message:"Please enter your password! (at least 8 characters)",min:8},{validator:this.checkPassword}]})(a.createElement(Oe.a,{prefix:a.createElement(y.a,{type:"lock"}),type:"password",style:{width:"50%"},placeholder:"Password",allowClear:!0}))),a.createElement(Ie,{label:"Confirm Password",hasFeedback:!0},t.getFieldDecorator("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.checkConfirm}]})(a.createElement(Oe.a,{prefix:a.createElement(y.a,{type:"lock"}),type:"password",style:{width:"50%"},placeholder:"Confirm password",onBlur:this.handleConfirmBlur,allowClear:!0}))),a.createElement(je.a,{onClick:n},"Previous"),a.createElement(je.a,{type:"primary",htmlType:"submit"},"Next")))}}]),t}(a.Component),Ae=we.a.create()(Te),Fe=Ee.a.Title,Pe=Ee.a.Paragraph,qe=we.a.Item,ze=Oe.a.TextArea,_e=we.a.create()(function(e){var t=e.onSubmit,n=e.prevStep;return a.createElement(ue,null,a.createElement(we.a,{onSubmit:t},a.createElement(Fe,null,"Last step!"),a.createElement(Fe,{level:3},"Add something from yourself!"),a.createElement(Pe,null,"(optional, can be changed later)"),a.createElement(qe,{label:"Description",hasFeedback:!0},a.createElement(ze,{prefix:a.createElement(y.a,{type:"idcard"}),style:{width:"50%"},placeholder:"Description",autosize:!0})),a.createElement(je.a,{onClick:n},"Previous"),a.createElement(je.a,{type:"primary",htmlType:"submit"},"Done")))}),Le=T.a.Step,Ue=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={step:0,username:""},n.saveInput=function(e){n.setState(e)},n.nextStep=function(e){e.preventDefault();var t=n.state.step;t<2&&n.setState({step:t+1})},n.prevStep=function(e){e.preventDefault();var t=n.state.step;t>0&&n.setState({step:t-1})},n.handleSubmit=function(e){e.preventDefault();var t=Object(I.a)(n).state,a=n.props.history;N(t).then(function(e){e.data?A.a.success("Created successfully!",2,n.handleClose):A.a.error("Email or username taken!",2,function(){return a.push("/register")})}).catch(function(e){return e})},n.handleClose=function(){n.props.history.push("/login")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.step,r=t.username,o=this.props.history,i=[{title:"Email",content:a.createElement(Ce,{saveInput:this.saveInput,nextStep:this.nextStep})},{title:"Username and Password",content:a.createElement(Ae,{saveInput:this.saveInput,prevStep:this.prevStep,nextStep:this.nextStep})},{title:"Description",content:a.createElement(_e,{saveInput:this.saveInput,prevStep:this.prevStep,username:r,onSubmit:function(t){return e.handleSubmit(t)}})}];return O("login")?a.createElement(function(){return o.push("/home",{refresh:!0}),null},null):a.createElement(function(){return a.createElement(de,null,a.createElement(T.a,{current:n},i.map(function(e){return a.createElement(Le,{key:e.title,title:e.title})})),a.createElement("div",{className:"steps-content"},i[n].content))},null)}}]),t}(a.Component),Ne=n(400),Re=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),n.setState({loading:!0});var t=n.props,a=t.form,r=t.history;a.validateFields(function(e,t){e||R(t).then(function(e){"Logged in"===e.data?n.setState({status:"success"},function(){j("login",t.username),r.push("/home",{refresh:!0})}):n.setState({status:"error",loading:!1})}).catch(function(e){return e})})},n.state={logged:O("login"),status:"",loading:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.logged,n=e.status,r=e.loading,o=this.props,i=o.form,c=o.history;return t?(c.push("/",{refresh:!0}),null):a.createElement(pe,null,a.createElement(we.a,{onSubmit:this.handleSubmit},a.createElement(Ee.a.Title,{type:2},"Welcome back!"),a.createElement(we.a.Item,{validateStatus:n},i.getFieldDecorator("username",{rules:[{required:!0,message:"Please enter your username!"}]})(a.createElement(Oe.a,{prefix:a.createElement(y.a,{type:"user"}),placeholder:"Username",allowClear:!0}))),a.createElement(we.a.Item,{validateStatus:n},i.getFieldDecorator("password",{rules:[{required:!0,message:"Please enter your password!"}]})(a.createElement(Oe.a,{prefix:a.createElement(y.a,{type:"lock"}),type:"password",placeholder:"Password",allowClear:!0}))),a.createElement(we.a.Item,null,i.getFieldDecorator("remember",{valuePropName:"checked",initialValue:!0})(a.createElement(Ne.a,null,"Remember me")),a.createElement(l.b,{className:"login-form-forgot",to:"/forgot"},"Forgot password"),a.createElement("br",null),a.createElement(je.a,{type:"primary",loading:r,htmlType:"submit",style:{width:"100%"}},"Log in"),"Or",a.createElement(l.b,{to:"/register"}," register now!"))))}}]),t}(a.Component),Me=Object(f.f)(we.a.create({name:"normal_login"})(Re)),Je=n(60),We=n.n(Je),Be=n(107),Ke=n(397),Ve=n(394),He=n(395),Qe=n(393),Ye=function(){return a.createElement(Qe.a,{indicator:a.createElement(y.a,{type:"loading",style:{fontSize:"4rem"}}),style:{position:"absolute",top:"40%",left:"50%",transform:"translate(-40%, -50%)"}})},Ge=d.a.Content,Xe=d.a.Footer,Ze=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).latestQuestions=Object(Be.a)(We.a.mark(function e(){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L().then(function(e){setTimeout(function(){return n.setState({questions:e.data.questions,users:e.data.users,ready:!0})},500)});case 2:case"end":return e.stop()}},e)})),n.loadAllUsers=Object(Be.a)(We.a.mark(function e(){return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z().then(function(){var e=Object(Be.a)(We.a.mark(function e(t){var a,r;return We.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],r=new Promise(function(e){a=t.data.usernames.map(function(e){return e.username}),e("ok")}),e.next=4,r.then(function(e){e&&n.setState({allUsers:a})});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e)})),n.onSelect=function(e){n.props.history.push("/profile/".concat(e))},n.onChange=function(e){n.setState({searchPhrease:e})},n.handleSearch=function(){var e=n.props.history,t=n.state.searchPhrease;e.push("/search/".concat(t))},n.state={ready:!1,questions:[],users:[],allUsers:[],searchPhrease:""},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadAllUsers().then(function(){e.latestQuestions()})}},{key:"render",value:function(){var e=this.state,t=e.questions,n=e.users,r=e.allUsers;return e.ready?a.createElement(me,null,a.createElement(Ge,{style:{width:"100%",height:"95vh",paddingTop:"5vh"}},a.createElement(Ee.a.Title,{level:3,style:{marginTop:"10%",textAlign:"center"}},"Search for anyone!"),a.createElement(Ke.a,{className:"global-search",size:"large",style:{width:"100%"},dataSource:r,onSelect:this.onSelect,onSearch:this.onChange,placeholder:"Search for user...",filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())}},a.createElement(Oe.a,{suffix:a.createElement(je.a,{className:"search-btn",style:{marginRight:-12},size:"large",type:"primary",onClick:this.handleSearch},a.createElement(y.a,{type:"search"}))})),a.createElement(Ee.a.Title,{level:3,style:{marginTop:"10vh",textAlign:"center"}},"Some random QA's"),a.createElement(ve,null,t.map(function(e){if(e){var t="";return n.forEach(function(n){n._id===e.user_id&&(t=n.username)}),a.createElement(be,{key:e._id},a.createElement(Ve.a,{avatar:a.createElement(l.b,{to:"/profile/".concat(e.asked_by)},a.createElement(He.a,{icon:"user",size:"large",src:"".concat(P,"/public/").concat(e.asked_by)})),author:a.createElement(l.b,{to:"/profile/".concat(e.asked_by)},e.asked_by),content:e.content},a.createElement(Ve.a,{avatar:a.createElement(l.b,{to:"/profile/".concat(t)},a.createElement(He.a,{icon:"user",size:"large",src:"".concat(P,"/public/").concat(t)})),author:a.createElement(l.b,{to:"/profile/".concat(t)},t),content:e.answer})))}return null})),a.createElement(Xe,{style:{width:"100%",textAlign:"center"}},"Created by Kacper Jagie\u0142a"))):a.createElement(Ye,null)}}]),t}(a.Component),$e=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.createElement(ye,null,a.createElement(Ee.a.Title,{level:2},"Let's know each other!"),a.createElement(Ee.a.Paragraph,{style:{fontFamily:"Roboto",fontWeight:"bold"}},"Enter the best Question and Answers site"),a.createElement(l.b,{to:"/register"},a.createElement(je.a,{type:"primary",size:"large",shape:"round"},"Join now")),a.createElement("h4",null,"or",a.createElement(l.b,{to:"/login"}," log in")))}}]),t}(a.Component),et=Object(f.f)(function(e){var t=e.history;return O("login")?a.createElement(function(){return a.createElement(Ze,{history:t})},null):a.createElement(function(){return a.createElement($e,{history:t})},null)}),tt=n(399),nt=d.a.Content,at=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={logged:O("login"),loading:!1},n.handleSubmit=function(e){e.preventDefault(),n.setState({loading:!0});var t=n.props,a=t.form,r=t.username,o=t.onOk,i=n.state.logged;a.validateFields(function(e,t){e||J(r,t.questionContent,i).then(function(e){e.data&&o()}).catch(function(e){return e})})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,n=e.history,r=e.onCancel,o=n.location.pathname,i=this.state,c=i.logged,s=i.loading,u=o.substring(o.lastIndexOf("/")+1,o.length);return c?a.createElement(d.a,{style:{bakcgroundColor:"white"}},a.createElement(nt,{style:{backgroundColor:"white"}},a.createElement(pe,{style:{width:"100%",height:"100%",paddingLeft:"15%",paddingRight:"15%",backgroundColor:"white"}},a.createElement(Ee.a.Title,{level:2,style:{textAlign:"center"}},"You can ask",a.createElement(l.b,{to:"/profile/".concat(u)}," ".concat(u," ")),"anything!"),a.createElement(we.a,{onSubmit:this.handleSubmit,style:{width:"100%"}},a.createElement(we.a.Item,null,t.getFieldDecorator("questionContent")(a.createElement(Oe.a.TextArea,{placeholder:"Your question here"})),a.createElement(je.a,{onClick:function(){return r()},style:{marginRight:"10px"}},"Cancel"),a.createElement(je.a,{type:"primary",loading:s,htmlType:"submit"},"Ask question")))))):(n.push("/home"),null)}}]),t}(a.Component),rt=Object(f.f)(we.a.create({name:"ask_form"})(at)),ot=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).onChange=function(e){n.setState({answer:e.target.value})},n.handleAnswer=function(e){e.preventDefault(),n.setState({loadingAnswer:!0});var t=n.props,a=t.question,r=t.refresh,o=n.state.answer;M(a._id,o),r()},n.handleDelete=function(){n.setState({loadingDelete:!0});var e=n.props,t=e.question,a=e.refresh;K(t._id),a()};var a=n.props.question;return n.state={answer:a.answer,loadingAnswer:!1,loadingDelete:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.question,r=t.username,o=this.state,i=o.answer,c=o.loadingAnswer,s=o.loadingDelete;return a.createElement(be,{style:{position:"relative"}},a.createElement(we.a,{onSubmit:this.handleAnswer},a.createElement(Ve.a,{avatar:a.createElement(l.b,{to:"/profile/".concat(n.asked_by)},a.createElement(He.a,{icon:"user",size:"large",src:"".concat(P,"/public/").concat(n.asked_by)})),author:a.createElement(l.b,{to:"/profile/".concat(n.asked_by)},n.asked_by),content:n.content},n.answer?a.createElement(Ve.a,{avatar:a.createElement(l.b,{to:"/profile/".concat(r)},a.createElement(He.a,{icon:"user",size:"large",src:"".concat(P,"/public/").concat(r)})),author:a.createElement(l.b,{to:"/profile/".concat(r)},r),content:a.createElement(Ee.a.Paragraph,null,n.answer)}):a.createElement("div",null,r===O("login")?a.createElement(Oe.a,{onChange:function(t){return e.onChange(t)},placeholder:"Answer"}):null),i&&!n.answer?a.createElement(je.a,{type:"primary",htmlType:"submit",loading:c,style:{float:"right",marginTop:"5px"}},"Answer!"):null,r===O("login")?a.createElement(je.a,{style:{position:"absolute",top:"5px",right:"10px",cursor:"pointer",zIndex:1},type:"primary",loaoding:s,onClick:function(){return e.handleDelete()}},"Delete"):null)))}}]),t}(a.Component),it=d.a.Content,lt=d.a.Footer,ct=Ee.a.Title,st=Ee.a.Paragraph,ut=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={questions:[],ready:!1,visible:!1},n.refresh=function(){var e=n.props.match;q(e.params.username).then(function(e){_(e.data._id).then(function(t){U(e.data.username).then(function(a){setTimeout(function(){return n.setState({username:e.data.username,description:e.data.description,questions:t.data,avatar:a.data,ready:!0,visible:!1})},1e3)})})})},n.handleOk=function(){n.refresh()},n.handleCancel=function(){n.setState({visible:!1})},n.showModal=function(){n.setState({visible:!0})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"render",value:function(){var e=this,t=this.props,n=t.history,r=t.match,o=this.state,i=o.avatar,c=o.username,s=o.description,u=o.questions,m=o.ready,p=o.visible;return O("login")?a.createElement(function(){return m?a.createElement(me,null,a.createElement(it,{style:{width:"100%",height:"95vh",paddingTop:"5vh"}},a.createElement("div",{style:{marginBottom:"100px"}},a.createElement(l.b,{to:"/profile/".concat(c),style:{float:"left",marginRight:"10px"}},i?a.createElement(he,{src:"".concat(P,"/public/").concat(c),alt:"100x100",style:{zIndex:2}}):a.createElement(He.a,{icon:"user",size:80,style:{zIndex:2}})),a.createElement(ct,{level:2},c),"undefined"!==s?a.createElement(st,{strong:!0},s):null),a.createElement(tt.a,{title:"Ask ".concat(c),visible:p,onOk:e.handleOk,onCancel:e.handleCancel,footer:null},a.createElement(rt,{onCancel:e.handleCancel,username:c,onOk:e.handleOk})),O("login")===r.params.username?null:a.createElement(je.a,{type:"primary",onClick:function(){return e.showModal()}},"Ask this user"),a.createElement(ve,null,u.reverse().map(function(t){return a.createElement(ot,{question:t,refresh:e.refresh,username:c,key:t._id})})),a.createElement(lt,{style:{width:"100%",textAlign:"center"}},"Created by Kacper Jagie\u0142a"))):a.createElement(Ye,null)},null):a.createElement(function(){return n.push("/home"),null},null)}}]),t}(a.Component),mt=d.a.Content,pt=d.a.Footer,ht=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={logged:O("login"),previousDescription:"",ready:!1},n.onClose=function(){var e=n.props.history,t=n.state.logged;e.push("/profile/".concat(t))},n.handleSubmit=function(e){e.preventDefault();var t=n.props.form,a=n.state.logged;t.validateFields(function(e,t){t&&W(t,a).then(function(e){e?A.a.success("Changed successfully!",2,n.onClose):A.a.error("Something went wrong, try again!",2)})})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.logged;q(t).then(function(t){"undefined"!==t.data.description&&setTimeout(function(){return e.setState({previousDescription:t.data.description,ready:!0})},1e3)})}},{key:"render",value:function(){var e=this.state,t=e.logged,n=e.previousDescription,r=e.ready,o=this.props,i=o.form,l=o.history;return t?r?a.createElement(me,null,a.createElement(mt,{style:{paddingTop:"10vh"}},a.createElement(Ee.a.Title,{level:2,style:{paddingTop:"5vh",textAlign:"center",marginBottom:"12px"}},"Settings"," ",a.createElement(y.a,{type:"setting"})),a.createElement(we.a,{onSubmit:this.handleSubmit},a.createElement(Ee.a.Paragraph,null,"Change your description:"),a.createElement(we.a.Item,null,i.getFieldDecorator("description",{initialValue:n})(a.createElement(Oe.a.TextArea,{placeholder:"Update description"}))),a.createElement(je.a,{style:{width:"60%",marginLeft:"20%",marginTop:"5%"},type:"primary",htmlType:"submit"},"Save description")),a.createElement(pt,{style:{width:"100%",textAlign:"center"}},"Created by Kacper Jagie\u0142a"))):a.createElement(Ye,null):(l.push("/home"),null)}}]),t}(a.Component),dt=Object(f.f)(we.a.create({name:"settings"})(ht)),ft=function(e){var t,n=e.history;return O("login")?(t="login",w.remove(t,{path:"/qa-app-mongodb/"}),n.push("/home"),null):(n.push("/home"),null)},gt=function(e){var t=e.user;return a.createElement(fe,null,a.createElement(He.a,{size:"large",src:"".concat(P,"/public/").concat(t.username)}),a.createElement(l.b,{to:"/profile/".concat(t.username)},t.username))},bt=d.a.Content,vt=d.a.Footer,yt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={users:[],ready:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props.match.params.search;(e=n,F.get("".concat(P,"/search/").concat(e))).then(function(e){setTimeout(function(){return t.setState({users:e.data,ready:!0})},1e3)})}},{key:"render",value:function(){var e=this.state,t=e.users,n=e.ready,r=this.props,o=r.match,i=r.history,l=o.params.search,c=t.map(function(e){return a.createElement(gt,{user:e})});return O("login")?a.createElement(function(){return n?a.createElement(me,null,a.createElement(bt,null,a.createElement(ge,null,a.createElement(Ee.a.Title,{level:4,style:{marginTop:"3vh",textAlign:"center"}},"Results for '",a.createElement("b",{style:{color:"#1890ff"}},l),"'"),a.createElement("div",{style:{marginTop:"3vh"}},c)),a.createElement(vt,{style:{width:"100%",textAlign:"center"}},"Created by Kacper Jagie\u0142a"))):a.createElement(Ye,null)},null):a.createElement(function(){return i.push("/",{refresh:!0}),null},null)}}]),t}(a.Component),Et=n(405),wt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={logged:O("login"),alertVisible:!1},n.handleSubmit=function(e){var t=n.props.form;e.preventDefault(),t.validateFields(function(e,t){B(t.username,t.email).then(function(e){e&&n.setState({alertVisible:!0})})})},n.onClose=function(){n.props.history.push("/login")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.logged,n=e.alertVisible,r=this.props,o=r.form,i=r.history;return t?(i.push("/"),null):a.createElement(pe,null,a.createElement(Ee.a.Title,{level:2},"Forgot your password?"),a.createElement(Et.a,{message:"Email send!",description:"If user with such username and email exist we send you an email.",type:"info",closable:!0,onClose:this.onClose,style:n?{visibility:"visible",position:"absolute",top:"40vh",width:"60%",maringLeft:"20%",zIndex:3}:{visibility:"hidden",position:"absolute",top:"40vh",width:"60%",maringLeft:"20%",zIndex:3}}),a.createElement(Ee.a.Title,{level:4},"Generate a new one!"),a.createElement(we.a,{onSubmit:this.handleSubmit},a.createElement(we.a.Item,null,o.getFieldDecorator("email",{rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"The input is not valid E-mail!"}]})(a.createElement(Oe.a,{prefix:a.createElement(y.a,{type:"mail"}),placeholder:"Email",allowClear:!0}))),a.createElement(we.a.Item,null,o.getFieldDecorator("username",{rules:[{required:!0,message:"Please enter your username"}]})(a.createElement(Oe.a,{prefix:a.createElement(y.a,{type:"user"}),placeholder:"Username",allowClear:!0}))),a.createElement(je.a,{type:"primary",htmlType:"submit"},"Generate new password")))}}]),t}(a.Component),Ot=Object(f.f)(we.a.create({name:"forgot"})(wt)),jt=function(){return a.createElement(f.c,null,a.createElement(f.a,{exact:!0,path:"/forgot",component:Ot}),a.createElement(f.a,{exact:!0,path:"/settings",component:dt}),a.createElement(f.a,{exact:!0,path:"/profile/:username",component:Object(f.f)(ut)}),a.createElement(f.a,{exact:!0,path:"/register",component:Object(f.f)(Ue)}),a.createElement(f.a,{exact:!0,path:"/login",component:Me}),a.createElement(f.a,{exact:!0,path:"/logout",component:Object(f.f)(ft)}),a.createElement(f.a,{exact:!0,path:"/search/:search",component:Object(f.f)(yt)}),a.createElement(f.a,{path:"/",component:Object(f.f)(et)}))},xt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).LoggedIn=function(e){return a.createElement(d.a,{style:{minHeight:"100vh",maxHeight:"100vh"}},a.createElement(D,{selected:e}),a.createElement(jt,{refresh:n.refresh}))},n.NotLoggedIn=function(){return a.createElement(d.a,{style:{minHeight:"100vh",maxHeight:"100vh"}},a.createElement(jt,{refresh:n.refresh}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.history.location.pathname,t="";return t=e.indexOf("/")===e.lastIndexOf("/")?e.replace("/",""):e.substring(e.indexOf("/")+1,e.lastIndexOf("/")),O("login")?this.LoggedIn(t):this.NotLoggedIn()}}]),t}(a.Component),kt=Object(f.f)(xt);n(389),n(390);i.a.render(r.a.createElement(c.b,null,r.a.createElement(l.a,{basename:"/"},r.a.createElement(kt,null))),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.2b4016cf.chunk.js.map